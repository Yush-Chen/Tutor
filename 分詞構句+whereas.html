<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lesson 9: Graffiti Grammar Studio</title>
    <style>
        :root {
            --primary: #e74c3c; /* Spray Paint Red */
            --secondary: #3498db; /* Electric Blue */
            --dark: #2c3e50;
            --light: #ecf0f1;
            --accent: #f1c40f; /* Street Yellow */
            --wall-bg: #f5f6fa;
        }

        body {
            font-family: "Segoe UI", "Microsoft JhengHei", sans-serif;
            background-color: var(--dark);
            background-image: radial-gradient(#34495e 1px, transparent 1px);
            background-size: 20px 20px;
            color: #333;
            line-height: 1.6;
            margin: 0;
            padding: 0;
        }

        header {
            background: var(--primary);
            color: white;
            text-align: center;
            padding: 3rem 1rem;
            position: relative;
            overflow: hidden;
            box-shadow: 0 4px 15px rgba(0,0,0,0.3);
            transform: skewY(-2deg);
            margin-top: -30px;
            padding-bottom: 4rem;
        }

        header h1 {
            font-size: 3rem;
            margin: 0;
            font-family: 'Impact', sans-serif;
            text-transform: uppercase;
            letter-spacing: 2px;
            text-shadow: 3px 3px 0px var(--dark);
            transform: skewY(2deg);
        }

        header p {
            font-size: 1.2rem;
            transform: skewY(2deg);
            background: var(--dark);
            display: inline-block;
            padding: 5px 15px;
            margin-top: 10px;
            color: var(--accent);
            font-weight: bold;
        }

        .container {
            max-width: 900px;
            margin: -40px auto 50px;
            padding: 0 20px;
            position: relative;
            z-index: 10;
        }

        /* Tabs */
        .tabs {
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            gap: 10px;
            margin-bottom: 25px;
        }

        .tab-btn {
            background: var(--dark);
            border: 2px solid var(--accent);
            color: var(--accent);
            padding: 12px 25px;
            cursor: pointer;
            font-weight: bold;
            font-family: 'Segoe UI', sans-serif;
            transition: all 0.3s ease;
            text-transform: uppercase;
            letter-spacing: 1px;
            clip-path: polygon(10% 0, 100% 0, 100% 80%, 90% 100%, 0 100%, 0 20%);
        }

        .tab-btn:hover {
            background: var(--accent);
            color: var(--dark);
            transform: translateY(-3px);
        }

        .tab-btn.active {
            background: var(--secondary);
            border-color: var(--secondary);
            color: white;
            transform: scale(1.1);
            box-shadow: 0 0 15px var(--secondary);
        }

        /* Content Sections */
        .content-section {
            display: none;
            background: var(--wall-bg);
            padding: 30px;
            border-radius: 5px;
            box-shadow: 10px 10px 0px rgba(0,0,0,0.2);
            border: 2px solid var(--dark);
            animation: slideUp 0.4s ease-out;
            position: relative;
        }
        
        /* Add some "spray paint" effects */
        .content-section::before {
            content: '';
            position: absolute;
            top: -10px;
            right: -10px;
            width: 20px;
            height: 20px;
            background: var(--accent);
            border-radius: 50%;
            z-index: -1;
        }

        .content-section.active { display: block; }

        @keyframes slideUp {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        h2 {
            color: var(--dark);
            border-bottom: 4px solid var(--primary);
            padding-bottom: 10px;
            margin-top: 0;
            font-family: 'Impact', sans-serif;
            letter-spacing: 1px;
        }

        h3 {
            color: var(--secondary);
            margin-top: 25px;
            font-weight: 800;
        }

        /* Grammar Styles */
        .formula-box {
            background: #2c3e50;
            color: #f1c40f;
            padding: 15px;
            border-radius: 8px;
            font-family: "Consolas", monospace;
            margin: 15px 0;
            border-left: 5px solid #e74c3c;
            box-shadow: inset 0 0 10px rgba(0,0,0,0.5);
        }

        .example-box {
            background: white;
            padding: 15px;
            border-left: 4px solid var(--secondary);
            margin-bottom: 15px;
            font-style: italic;
        }

        .highlight {
            background-color: rgba(241, 196, 15, 0.3);
            padding: 0 4px;
            border-radius: 3px;
            font-weight: bold;
        }

        .badge {
            display: inline-block;
            padding: 3px 8px;
            border-radius: 4px;
            font-size: 0.8rem;
            color: white;
            margin-right: 5px;
            vertical-align: middle;
        }
        .bg-basic { background-color: var(--secondary); }
        .bg-adv { background-color: var(--primary); }
        .bg-ivy { background-color: #8e44ad; } /* Purple for Ivy Bar content */

        /* Quiz Styles */
        .quiz-item {
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 2px dashed #ccc;
        }

        .question { font-weight: bold; margin-bottom: 10px; font-size: 1.1rem; }
        
        .options label {
            display: block;
            margin: 8px 0;
            cursor: pointer;
            padding: 10px;
            background: white;
            border: 1px solid #ddd;
            transition: 0.2s;
        }
        .options label:hover { background: #eaf2f8; border-color: var(--secondary); }

        .input-answer {
            width: 100%;
            padding: 12px;
            border: 2px solid #ddd;
            border-radius: 0;
            font-size: 1rem;
            margin-top: 5px;
            box-sizing: border-box;
            background: #fafafa;
        }

        .check-btn {
            background-color: var(--primary);
            color: white;
            border: none;
            padding: 10px 25px;
            cursor: pointer;
            margin-top: 10px;
            font-weight: bold;
            text-transform: uppercase;
            box-shadow: 3px 3px 0 var(--dark);
            transition: 0.2s;
        }
        
        .check-btn:active {
            transform: translate(2px, 2px);
            box-shadow: 1px 1px 0 var(--dark);
        }

        .feedback {
            margin-top: 10px;
            padding: 15px;
            border-radius: 5px;
            display: none;
            font-weight: bold;
        }
        .feedback.correct { background-color: #d4efdf; color: #145a32; border: 1px solid #145a32; }
        .feedback.wrong { background-color: #fadbd8; color: #7b241c; border: 1px solid #7b241c; }

        footer {
            text-align: center;
            padding: 40px 20px;
            color: #bdc3c7;
            font-size: 0.9rem;
        }
        
        table {
            width: 100%;
            border-collapse: collapse;
            background: white;
        }
        th, td { border: 1px solid #ddd; padding: 10px; }
        th { background: var(--dark); color: white; }

    </style>
</head>
<body>

<header>
    <h1>Graffiti Grammar Studio</h1>
    <p>Lesson 9: Creating Art with Sentences</p>
</header>

<div class="container">
    <div class="tabs">
        <button class="tab-btn active" onclick="switchTab('warmup')">ğŸ¨ Warm-up</button>
        <button class="tab-btn" onclick="switchTab('core')">ğŸ–Œï¸ èª²æœ¬æ ¸å¿ƒ</button>
        <button class="tab-btn" onclick="switchTab('advanced')">ğŸ”¥ IVY é€²éšç‰¹å€</button>
        <button class="tab-btn" onclick="switchTab('contrast')">âš–ï¸ å°æ¯”å¥å‹</button>
        <button class="tab-btn" onclick="switchTab('practice')">âš”ï¸ å¯¦æˆ°æ¼”ç·´</button>
    </div>

    <!-- 1. Warm-up -->
    <div id="warmup" class="content-section active">
        <h2>ğŸ¨ Before We Spray Paint...</h2>
        <p>åœ¨é–‹å§‹å­¸ç¿’ã€Œåˆ†è©æ§‹å¥ã€ä¹‹å‰ï¼Œæˆ‘å€‘å¿…é ˆå…ˆç¢ºèªå…©å€‹æ ¸å¿ƒè§€å¿µï¼š</p>
        
        <h3>1. ä¸»å‹• vs. è¢«å‹•</h3>
        <p>åˆ†è©æ§‹å¥çš„éˆé­‚åœ¨æ–¼å°‡å‹•è©è®Šèº«ã€‚è®Šèº«è¦å‰‡å¾ˆç°¡å–®ï¼š</p>
        <ul>
            <li><strong>ä¸»å‹• (Active):</strong> å‹•ä½œæ˜¯ä¸»è©åšçš„ â†’ è®Šæˆ <span class="highlight">V-ing</span></li>
            <li><strong>è¢«å‹• (Passive):</strong> ä¸»è©æ˜¯æ‰¿å—å‹•ä½œçš„ â†’ è®Šæˆ <span class="highlight">p.p. (V-ed)</span></li>
        </ul>

        <h3>2. èª°æ˜¯ä¸»è©ï¼Ÿ</h3>
        <p>æ‰€æœ‰çš„ç°¡åŒ–ï¼Œå‰æé€šå¸¸æ˜¯ï¼š<strong>å…©å€‹å¥å­çš„ä¸»è©æ˜¯åŒä¸€å€‹äºº/ç‰©</strong>ã€‚å¦‚æœä¸»è©ä¸åŒï¼Œå°±ä¸èƒ½éš¨ä¾¿åˆªæ‰å–”ï¼ï¼ˆé€™å°±æ˜¯é€²éšçš„ç¨ç«‹åˆ†è©æ§‹å¥ï¼‰ã€‚</p>
    </div>

    <!-- 2. Core Grammar (Textbook) -->
    <div id="core" class="content-section">
        <h2>ğŸ–Œï¸ èª²æœ¬æ ¸å¿ƒï¼šå°ç­‰å­å¥ç°¡åŒ–</h2>
        <p>é€™æ˜¯èª²æœ¬ P.208 çš„é‡é»ã€‚ç•¶æˆ‘å€‘ç”¨ <strong>and</strong> é€£æ¥å…©å€‹å‹•ä½œï¼Œä¸”ä¸»è©ç›¸åŒæ™‚ï¼Œå¯ä»¥æŠŠç¬¬äºŒå€‹å‹•ä½œç°¡åŒ–ï¼Œè®“å¥å­æ›´æµæš¢ã€‚</p>

        <div class="formula-box">
            S + V1..., and (S) + V2...<br>
            â¬‡ï¸<br>
            S + V1..., <span style="color:#e74c3c">V2-ing / p.p.</span> ...
        </div>

        <h3>Step-by-Step ç°¡åŒ–ä¸‰æ­¥é©Ÿï¼š</h3>
        <ol>
            <li>å»æ‰é€£æ¥è© <strong>and</strong>ã€‚</li>
            <li>å»æ‰é‡è¤‡çš„ <strong>ä¸»è©</strong>ã€‚</li>
            <li>å‹•è©è®Šèº«ï¼šä¸»å‹•è®Š <strong>V-ing</strong>ï¼Œè¢«å‹•è®Š <strong>p.p.</strong>ï¼Œå¦å®šå‰‡åœ¨å‰æ–¹åŠ  <strong>not</strong>ã€‚</li>
        </ol>

        <div class="example-box">
            <span class="badge bg-basic">Example 1</span><br>
            Grace Miller tripped and fell to the ground, <strong>and she lost</strong> the race.<br>
            â¬‡ï¸<br>
            Grace Miller tripped and fell to the ground, <strong>losing</strong> the race. (ä¸»å‹•)
        </div>

        <div class="example-box">
            <span class="badge bg-basic">Example 2</span><br>
            Dave checked his phone, <strong>and he did not look</strong> at his teacher.<br>
            â¬‡ï¸<br>
            Dave checked his phone, <strong>not looking</strong> at his teacher. (å¦å®š)
        </div>
        
        <div class="example-box">
            <span class="badge bg-basic">Example 3</span><br>
            The singer posed for photos, <strong>and she was surrounded</strong> by fans.<br>
            â¬‡ï¸<br>
            The singer posed for photos, <strong>surrounded</strong> by fans. (è¢«å‹•ï¼Œçœç•¥ being)
        </div>
    </div>

    <!-- 3. Advanced Grammar (Ivy Bar Integration) -->
    <div id="advanced" class="content-section">
        <h2>ğŸ”¥ IVY é€²éšç‰¹å€ï¼šåˆ†è©æ§‹å¥å®Œå…¨é«”</h2>
        <p>é™¤äº†èª²æœ¬æ•™çš„ã€Œand é€£æ¥ã€ç°¡åŒ–ï¼Œåˆ†è©æ§‹å¥ä¹Ÿå¸¸ç”¨ä¾†ç°¡åŒ–ã€Œå‰¯è©å­å¥ã€ï¼ˆå¦‚ Because, When, If, Although ç­‰ï¼‰ã€‚é€™è£¡æ•´åˆäº†å¸¸æ˜¥è—¤çš„é€²éšé‡é»ï¼š</p>

        <h3>1. å‰¯è©å­å¥çš„ç°¡åŒ– (Adverbial Clauses)</h3>
        <div class="formula-box">
            Because/When/If + S + V..., S + V...<br>
            â¬‡ï¸<br>
            <span style="color:#e74c3c">V-ing / p.p.</span>..., S + V...
        </div>
        <div class="example-box">
            <span class="badge bg-ivy">IVY Focus</span><br>
            <strong>Because I didn't know</strong> what to do, I asked for help.<br>
            â¬‡ï¸ <strong>Not knowing</strong> what to do, I asked for help.
        </div>

        <h3>2. å®Œæˆå¼åˆ†è©æ§‹å¥ (Perfect Participle)</h3>
        <p>ç•¶ã€Œåˆ†è©å‹•ä½œã€ç™¼ç”Ÿåœ¨ã€Œä¸»è¦å‹•è©ã€<strong>ä¹‹å‰</strong>ï¼Œæˆ‘å€‘è¦ç”¨ <strong>Having + p.p.</strong>ã€‚</p>
        <div class="example-box">
            <span class="badge bg-ivy">IVY Focus</span><br>
            <strong>After he had finished</strong> his work, he went home.<br>
            â¬‡ï¸ <strong>Having finished</strong> his work, he went home.<br>
            (åšå®Œå·¥ä½œæ˜¯å…ˆç™¼ç”Ÿçš„ï¼Œå›å®¶æ˜¯å¾Œç™¼ç”Ÿçš„)
        </div>

        <h3>3. ç¨ç«‹åˆ†è©æ§‹å¥ (Independent Participle)</h3>
        <p>å¦‚æœå‰å¾Œ<strong>ä¸»è©ä¸åŒ</strong>ï¼Œç°¡åŒ–æ™‚å¿…é ˆ<strong>ä¿ç•™ä¸»è©</strong>ï¼</p>
        <div class="example-box">
            <span class="badge bg-ivy">IVY Focus</span><br>
            <strong>If weather permits</strong>, we will go on a picnic.<br>
            â¬‡ï¸ <strong>Weather permitting</strong>, we will go on a picnic.<br>
            (å‰é¢ä¸»è©æ˜¯å¤©æ°£ï¼Œå¾Œé¢ä¸»è©æ˜¯æˆ‘å€‘ï¼Œä¸èƒ½åˆªï¼)
        </div>

        <h3>4. å›ºå®šçš„åˆ†è©ç‰‡èª (Fixed Expressions)</h3>
        <p>é€™äº›ç”¨æ³•å·²ç¶“è®Šæˆæ…£ç”¨èªï¼Œä¸ç®¡ä¸»è©æ˜¯èª°éƒ½èƒ½ç”¨ï¼š</p>
        <ul>
            <li>Generally speaking (ä¸€èˆ¬è€Œè¨€)</li>
            <li>Strictly speaking (åš´æ ¼ä¾†èªª)</li>
            <li>Judging from (å¾...åˆ¤æ–·)</li>
        </ul>

        <h3>æ³¨æ„ï¼šæœ‰æ™‚ç‚ºé¿å…èªæ„æ¨¡ç³Šï¼Œå¯ä¿ç•™é€£æ¥è©ï¼Œä½†è¡¨åŸå› ä¹‹é€£æ¥è©ä¸€å®šè¦çœç•¥ï¼</h3>
        <ul>
            <li>è¡¨ç¤ºåŸå› ï¼šBecause, As, Sinceã€€ä¸€å®šè¦çœç•¥</li>
            <li>è¡¨ç¤ºæ™‚é–“ï¼šBefore, After, Since, Until, While, Whenã€€è‹¥èªæ„æ¨¡ç³Šéœ€ä¿ç•™</li>
            <li>è¡¨ç¤ºè½‰æŠ˜ï¼šAlthough, Thoughã€€å¯ä¿ç•™</li>
        </ul>
        <div class="example-box">
            <strong>Before leaving</strong>, she turned off the lights.<br>
            â‰ï¸ <strong>Leaving</strong>, she turned off the lights.<br>
            (å¦‚æœçœç•¥ Beforeï¼Œå¥å­å¯èƒ½æœƒè¢«èª¤è§£ç‚ºã€Œé‚Šèµ°é‚Šé—œç‡ˆã€çš„åŒæ™‚å‹•ä½œ)
        </div>
        <div class="example-box">
            <strong>While walking in the park</strong>, I saw a rabbit.<br>
            â‰ï¸ <strong>Walking in the park</strong>, I saw a rabbit.<br>
            (å¯èƒ½è¢«è§£é‡‹ç‚ºã€Œå› ç‚ºåœ¨å…¬åœ’èµ°ï¼Œæ‰€ä»¥çœ‹åˆ°å…”å­ã€ï¼Œé›–ç„¶èªæ„é€šé †ï¼Œä½†è¼ƒä¸æ˜ç¢º)
        </div>

    </div>

    <!-- 4. Contrast Grammar -->
    <div id="contrast" class="content-section">
        <h2>âš–ï¸ èª²æœ¬æ ¸å¿ƒï¼šå°æ¯”å¥å‹</h2>
        <p>èª²æœ¬ P.210 é‡é»ã€‚ç”¨ä¾†é€£æ¥å…©å€‹ã€Œç›¸åã€æˆ–ã€Œå°ç…§ã€çš„æ¦‚å¿µã€‚</p>

        <div class="formula-box">
            S1 + V1..., <strong>while / whereas</strong> + S2 + V2...
        </div>

        <p>é€™å…©å€‹å­—åœ¨æ­¤è™•æ„æ€ç›¸åŒï¼Œå¯äº’æ›ï¼Œè¡¨ç¤ºã€Œç„¶è€Œã€ã€ã€Œä½†æ˜¯ã€ã€‚</p>

        <div class="example-box">
            Some people love graffiti, <strong>while (whereas)</strong> others hate it.<br>
            (æœ‰äº›äººæ„›å¡—é´‰ï¼Œç„¶è€Œå…¶ä»–äººè¨å­å®ƒã€‚)
        </div>

        <div class="example-box">
            The gun represents violence, <strong>whereas (while)</strong> the flower stands for peace.
        </div>
    </div>

    <!-- 5. Practice Quiz -->
    <div id="practice" class="content-section">
        <h2>âš”ï¸ å¯¦æˆ°æ¼”ç·´ (Battle Mode)</h2>
        <p>æ˜¯æ™‚å€™æ‹¿èµ·å™´æ¼†ç½ï¼ˆéµç›¤ï¼‰ä¾†å‰µä½œäº†ï¼</p>

        <!-- Basic Questions -->
        <h3>ğŸŒ± Basic Training (åŸºç¤é¡Œ)</h3>
        
        <div class="quiz-item">
            <div class="question">1. The girl sat on the bench, ______ (listen) to music.</div>
            <input type="text" class="input-answer" id="bq1" placeholder="Fill in the form">
            <button class="check-btn" onclick="checkText('bq1', 'listening')">Check</button>
            <div id="bq1-fb" class="feedback"></div>
        </div>

        <div class="quiz-item">
            <div class="question">2. David fell off the stage, ______ (break) his leg.</div>
            <input type="text" class="input-answer" id="bq2" placeholder="Fill in the form">
            <button class="check-btn" onclick="checkText('bq2', 'breaking')">Check</button>
            <div id="bq2-fb" class="feedback"></div>
        </div>

        <div class="quiz-item">
            <div class="question">3. ______ (Surround) by fans, the singer smiled happily.</div>
            <input type="text" class="input-answer" id="bq3" placeholder="æ³¨æ„ä¸»å‹•é‚„æ˜¯è¢«å‹•">
            <button class="check-btn" onclick="checkText('bq3', 'Surrounded')">Check</button>
            <div id="bq3-fb" class="feedback"></div>
        </div>

        <div class="quiz-item">
            <div class="question">4. My brother likes sports, ______ I prefer reading.</div>
            <div class="options">
                <label><input type="radio" name="bq4" value="A"> A. when</label>
                <label><input type="radio" name="bq4" value="B"> B. while</label>
                <label><input type="radio" name="bq4" value="C"> C. because</label>
            </div>
            <button class="check-btn" onclick="checkRadio('bq4', 'B', 'bq4-fb')">Check</button>
            <div id="bq4-fb" class="feedback"></div>
        </div>

        <div class="quiz-item">
            <div class="question">5. He sat in the chair, not ______ (say) a word.</div>
            <input type="text" class="input-answer" id="bq5" placeholder="å¦å®šå¥å‹">
            <button class="check-btn" onclick="checkText('bq5', 'saying')">Check</button>
            <div id="bq5-fb" class="feedback"></div>
        </div>
        
        <!-- ... Adding 5 more basic questions conceptually ... -->
        <div class="quiz-item">
            <div class="question">6. Combine: He opened the bottle. He drank the water. (Use V-ing)</div>
            <div class="question" style="font-weight:normal; font-size:0.9rem;">He opened the bottle, ______ the water.</div>
            <input type="text" class="input-answer" id="bq6" placeholder="drinking">
            <button class="check-btn" onclick="checkText('bq6', 'drinking')">Check</button>
            <div id="bq6-fb" class="feedback"></div>
        </div>

        <div class="quiz-item">
            <div class="question">7. The book is expensive, ______ the notebook is cheap. (Contrast)</div>
            <input type="text" class="input-answer" id="bq7" placeholder="w word">
            <button class="check-btn" onclick="checkText('bq7', ['while', 'whereas'])">Check</button>
            <div id="bq7-fb" class="feedback"></div>
        </div>

        <div class="quiz-item">
            <div class="question">8. ______ (Write) by a famous writer, the book sells well.</div>
            <input type="text" class="input-answer" id="bq8">
            <button class="check-btn" onclick="checkText('bq8', 'Written')">Check</button>
            <div id="bq8-fb" class="feedback"></div>
        </div>

        <div class="quiz-item">
            <div class="question">9. Tom is tall, ______ his brother is short.</div>
            <div class="options">
                <label><input type="radio" name="bq9" value="A"> A. whereas</label>
                <label><input type="radio" name="bq9" value="B"> B. since</label>
            </div>
            <button class="check-btn" onclick="checkRadio('bq9', 'A', 'bq9-fb')">Check</button>
            <div id="bq9-fb" class="feedback"></div>
        </div>

        <div class="quiz-item">
            <div class="question">10. They walked out of the room, ______ (laugh) loudly.</div>
            <input type="text" class="input-answer" id="bq10" placeholder="">
            <button class="check-btn" onclick="checkText('bq10', 'laughing')">Check</button>
            <div id="bq10-fb" class="feedback"></div>
        </div>

        <!-- Advanced Questions -->
        <h3>ğŸ”¥ Advanced Challenge (é€²éš/å¸¸æ˜¥è—¤è€ƒé¡Œ)</h3>

        <div class="quiz-item">
            <div class="question"><span class="badge bg-ivy">IVY</span> 11. ______ (Finish) his homework, he went to bed. (Hint: å‹•ä½œæœ‰å…ˆå¾Œ)</div>
            <input type="text" class="input-answer" id="aq1">
            <button class="check-btn" onclick="checkText('aq1', 'Having finished')">Check</button>
            <div id="aq1-fb" class="feedback"></div>
        </div>

        <div class="quiz-item">
            <div class="question"><span class="badge bg-ivy">IVY</span> 12. Generally ______, women live longer than men.</div>
            <input type="text" class="input-answer" id="aq2" placeholder="å›ºå®šç”¨æ³•">
            <button class="check-btn" onclick="checkText('aq2', 'speaking')">Check</button>
            <div id="aq2-fb" class="feedback"></div>
        </div>

        <div class="quiz-item">
            <div class="question"><span class="badge bg-ivy">IVY</span> 13. ______ from the moon, the earth looks like a blue ball.</div>
            <div class="options">
                <label><input type="radio" name="aq3" value="A"> A. Seeing</label>
                <label><input type="radio" name="aq3" value="B"> B. Seen</label>
                <label><input type="radio" name="aq3" value="C"> C. To see</label>
            </div>
            <button class="check-btn" onclick="checkRadio('aq3', 'B', 'aq3-fb')">Check</button>
            <div id="aq3-fb" class="feedback"></div>
        </div>

        <div class="quiz-item">
            <div class="question"><span class="badge bg-ivy">IVY</span> 14. Weather ______ (permit), we will go hiking. (ç¨ç«‹åˆ†è©æ§‹å¥)</div>
            <input type="text" class="input-answer" id="aq4">
            <button class="check-btn" onclick="checkText('aq4', 'permitting')">Check</button>
            <div id="aq4-fb" class="feedback"></div>
        </div>

        <div class="quiz-item">
            <div class="question"><span class="badge bg-ivy">IVY</span> 15. ______ (Compare) with Tokyo, things in Taipei are cheaper.</div>
            <input type="text" class="input-answer" id="aq5">
            <button class="check-btn" onclick="checkText('aq5', 'Compared')">Check</button>
            <div id="aq5-fb" class="feedback"></div>
        </div>

        <div class="quiz-item">
            <div class="question"><span class="badge bg-ivy">IVY</span> 16. ______ (Not know) where to go, the child started crying.</div>
            <input type="text" class="input-answer" id="aq6">
            <button class="check-btn" onclick="checkText('aq6', 'Not knowing')">Check</button>
            <div id="aq6-fb" class="feedback"></div>
        </div>

        <div class="quiz-item">
            <div class="question"><span class="badge bg-ivy">IVY</span> 17. There ______ (be) no bus, we had to walk home. (ç¨ç«‹åˆ†è©)</div>
            <input type="text" class="input-answer" id="aq7" placeholder="">
            <button class="check-btn" onclick="checkText('aq7', 'being')">Check</button>
            <div id="aq7-fb" class="feedback"></div>
        </div>

        <div class="quiz-item">
            <div class="question"><span class="badge bg-ivy">IVY</span> 18. ______ (Judge) from his accent, he must be from Texas.</div>
            <input type="text" class="input-answer" id="aq8" placeholder="">
            <button class="check-btn" onclick="checkText('aq8', 'Judging')">Check</button>
            <div id="aq8-fb" class="feedback"></div>
        </div>

        <div class="quiz-item">
            <div class="question"><span class="badge bg-ivy">IVY</span> 19. All things ______ (consider), it was a good trip. (ç¨ç«‹åˆ†è©-è¢«å‹•)</div>
            <input type="text" class="input-answer" id="aq9">
            <button class="check-btn" onclick="checkText('aq9', 'considered')">Check</button>
            <div id="aq9-fb" class="feedback"></div>
        </div>

        <div class="quiz-item">
            <div class="question"><span class="badge bg-ivy">IVY</span> 20. ______ (Live) in the country for ten years, he enjoys simple life.</div>
            <div class="options">
                <label><input type="radio" name="aq10" value="A"> A. Living</label>
                <label><input type="radio" name="aq10" value="B"> B. Having lived</label>
            </div>
            <button class="check-btn" onclick="checkRadio('aq10', 'B', 'aq10-fb')">Check</button>
            <div id="aq10-fb" class="feedback"></div>
        </div>

    </div>
</div>

<footer>
    <p>Graffiti Grammar Studio | Designed for Lesson 9 & Ivy Bar Integration ğŸ¨</p>
</footer>

<script>
    // Tab Switching
    function switchTab(tabId) {
        document.querySelectorAll('.content-section').forEach(el => el.classList.remove('active'));
        document.querySelectorAll('.tab-btn').forEach(el => el.classList.remove('active'));
        
        document.getElementById(tabId).classList.add('active');
        // Find the button that calls this function and add active class
        const buttons = document.getElementsByTagName('button');
        for (let btn of buttons) {
            if (btn.getAttribute('onclick') === "switchTab('" + tabId + "')") {
                btn.classList.add('active');
            }
        }
    }

    // Checking Logic (Text)
    function checkText(id, correctAns) {
        const userVal = document.getElementById(id).value.trim();
        const feedback = document.getElementById(id + '-fb');
        
        let isCorrect = false;
        if (Array.isArray(correctAns)) {
            isCorrect = correctAns.some(ans => userVal.toLowerCase() === ans.toLowerCase());
        } else {
            isCorrect = userVal.toLowerCase() === correctAns.toLowerCase();
        }

        feedback.style.display = 'block';
        if (isCorrect) {
            feedback.className = 'feedback correct';
            feedback.innerHTML = 'âœ… BINGO! Correct Answer.';
        } else {
            feedback.className = 'feedback wrong';
            let showAns = Array.isArray(correctAns) ? correctAns.join(" / ") : correctAns;
            feedback.innerHTML = 'âŒ Oops! The answer is: ' + showAns;
        }
    }

    // Checking Logic (Radio)
    function checkRadio(name, correctVal, fbId) {
        const options = document.getElementsByName(name);
        let selected = null;
        for (const opt of options) {
            if (opt.checked) {
                selected = opt.value;
                break;
            }
        }
        
        const feedback = document.getElementById(fbId);
        feedback.style.display = "block";

        if (!selected) {
            feedback.className = "feedback";
            feedback.style.backgroundColor = "#fff3cd";
            feedback.innerHTML = "âš ï¸ Please select an option.";
            return;
        }

        if (selected === correctVal) {
            feedback.className = "feedback correct";
            feedback.innerHTML = "âœ… Correct!";
        } else {
            feedback.className = "feedback wrong";
            feedback.innerHTML = "âŒ Incorrect. Try again!";
        }
    }
</script>

</body>
</html>